% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pb_type.R
\name{pb_type}
\alias{pb_type}
\title{Convert a promptbook to an ellmer type object}
\usage{
pb_type(promptbook, variables = NULL, group = NULL)
}
\arguments{
\item{promptbook}{A \code{promptbook} object as returned by \code{\link[=read_promptbook]{read_promptbook()}}.}

\item{variables}{Character vector of variable names to include. Default:
all variables. Cannot be combined with \code{group}.}

\item{group}{Character scalar. If supplied, include only variables in this
group. Cannot be combined with \code{variables}.}
}
\value{
An \code{ellmer::TypeObject} â€” the exact object you'd pass to
\code{chat$chat_structured(type = ...)}.
}
\description{
Converts a promptbook (or a subset of its variables) to an
\code{\link[ellmer:type_boolean]{ellmer::type_object()}}. This is the core technical bridge between the
YAML schema and ellmer's structured data extraction.
}
\details{
Each variable is converted according to its type:\tabular{lll}{
   YAML type \tab \code{multiple} \tab ellmer type \cr
   \code{categorical} \tab no \tab \code{type_enum()} \cr
   \code{categorical} \tab yes \tab \code{type_array(type_enum())} \cr
   \code{numeric} \tab no \tab \code{type_integer()} / \code{type_number()} \cr
   \code{text} \tab no \tab \code{type_string()} \cr
   \code{text} \tab yes \tab \code{type_array(type_string())} \cr
   \code{boolean} \tab no \tab \code{type_boolean()} \cr
   \code{object} \tab no \tab \code{type_object()} \cr
   \code{object} \tab yes \tab \code{type_array(type_object())} \cr
}
}
\examples{
path <- system.file("examples", "media_framing.yaml", package = "promptbook")
pb <- read_promptbook(path)

# All variables
type <- pb_type(pb)

# Only one group
type_basic <- pb_type(pb, group = "basic")

# Specific variables
type_sub <- pb_type(pb, variables = c("topic", "sentiment"))
}
