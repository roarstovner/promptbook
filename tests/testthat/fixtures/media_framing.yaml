# Example promptbook: Media framing of climate policy
# This is a complete, realistic example of a promptbook YAML file.

schema_version: 1
title: "Media Framing Codebook"
version: "1.0.0"
description: >
  Coding instrument for newspaper coverage of climate policy.
  Adapted from Semetko & Valkenburg (2000) framing typology.
author: "Jane Researcher"

prompt:
  system: |
    You are an expert content analyst trained in media framing analysis.
    You will be given a newspaper article and must code it according to
    the codebook variables defined below.

    Guidelines:
    - Read the full article before coding any variable.
    - Be conservative: if unsure between two categories, choose the
      more neutral or general option.
    - For the sentiment scale, use the full range; reserve 3 for
      articles that are genuinely balanced.
  user: |
    Please code the following newspaper article:

    {text}

variables:
  # --- Basic codes (group: basic) ---
  - name: topic
    label: "Primary topic"
    description: >
      The dominant topic of the article. Choose the single best fit
      based on which topic receives the most coverage.
    type: categorical
    categories:
      - value: "economy"
        label: "Economic impacts"
        description: "Focus on costs, jobs, GDP, trade effects of climate policy"
      - value: "health"
        label: "Public health"
        description: "Focus on health outcomes, disease, air quality"
      - value: "environment"
        label: "Environmental impacts"
        description: "Focus on ecosystems, biodiversity, emissions, pollution"
      - value: "politics"
        label: "Political process"
        description: "Focus on legislation, elections, party positions, lobbying"
      - value: "technology"
        label: "Technology and innovation"
        description: "Focus on renewable energy, carbon capture, tech solutions"
      - value: "other"
        label: "Other"
        description: "Does not fit any of the above categories"
    group: basic

  - name: sentiment
    label: "Overall policy sentiment"
    description: >
      The overall evaluative tone of the article toward the climate
      policy discussed. Use the full scale; reserve 3 for articles
      that are genuinely balanced with no detectable lean.
    type: numeric
    min: 1
    max: 5
    labels:
      1: "Very negative"
      2: "Somewhat negative"
      3: "Neutral / balanced"
      4: "Somewhat positive"
      5: "Very positive"
    group: basic

  - name: topics_all
    label: "All topics mentioned"
    description: >
      All topics that receive substantial coverage in the article.
      Select all that apply; most articles will have 1-3 topics.
    type: categorical
    multiple: true
    categories:
      - value: "economy"
        label: "Economic impacts"
      - value: "health"
        label: "Public health"
      - value: "environment"
        label: "Environmental impacts"
      - value: "politics"
        label: "Political process"
      - value: "technology"
        label: "Technology and innovation"
    group: basic

  - name: has_data
    label: "Contains quantitative data"
    description: >
      Whether the article cites any specific numbers, statistics, or
      quantitative evidence (e.g., percentages, dollar amounts, counts).
    type: boolean
    group: basic

  # --- Framing codes (group: framing) ---
  - name: frame
    label: "Dominant frame"
    description: >
      The primary interpretive frame used to present the issue.
      Based on Semetko & Valkenburg (2000) generic news frames.
    type: categorical
    categories:
      - value: "conflict"
        label: "Conflict"
        description: "Emphasizes disagreement between parties, groups, or individuals"
      - value: "consequence"
        label: "Economic consequence"
        description: "Emphasizes economic costs, benefits, or financial implications"
      - value: "human_interest"
        label: "Human interest"
        description: "Emphasizes personal stories, emotional angles, or individual impact"
      - value: "morality"
        label: "Morality"
        description: "Emphasizes moral or ethical considerations, right vs. wrong"
      - value: "responsibility"
        label: "Responsibility attribution"
        description: "Emphasizes who is responsible for causing or solving the problem"
    group: framing

  - name: source_diversity
    label: "Source diversity"
    description: >
      How many distinct types of sources are quoted or cited
      (e.g., politicians, scientists, citizens, industry). Count
      source types, not individual sources.
    type: numeric
    min: 0
    max: 10
    integer: true
    group: framing

  - name: key_quote
    label: "Most representative quote"
    description: >
      The single direct quote that best represents the article's
      main message. Copy verbatim from the article. Return an empty
      string if no direct quotes are present.
    type: text
    required: false
    group: framing

  - name: actors
    label: "Named actors"
    description: >
      All people or organizations that are quoted or whose positions
      are described in the article.
    type: object
    multiple: true
    properties:
      - name: actor_name
        type: text
        description: "Full name as mentioned in the article"
      - name: actor_type
        type: categorical
        description: "Type of actor"
        categories:
          - value: "politician"
            label: "Politician / government official"
          - value: "expert"
            label: "Academic / scientist / expert"
          - value: "industry"
            label: "Industry / business representative"
          - value: "ngo"
            label: "NGO / civil society"
          - value: "citizen"
            label: "Ordinary citizen"
          - value: "other"
            label: "Other"
      - name: stance
        type: categorical
        description: "The actor's stated or implied stance on the policy"
        categories:
          - value: "support"
          - value: "oppose"
          - value: "neutral"
          - value: "unclear"
    group: framing

groups:
  basic:
    label: "Basic codes"
    description: "Straightforward codes suitable for fast models"
    model: haiku
  framing:
    label: "Framing analysis"
    description: "Complex interpretive codes requiring stronger reasoning"
    model: sonnet
